# Spring Cloud 概述与微服务架构

## Spring Cloud 简介

Spring Cloud 是一系列框架的有序集合，它利用 Spring Boot 的开发便利性简化了分布式系统的开发，比如服务发现、服务网关、服务路由、链路追踪等。Spring Cloud 并不重复造轮子，而是将市面上开发得比较好的模块集成进去，进行封装，从而减少了各模块的开发成本。换句话说：Spring Cloud 提供了构建分布式系统所需的"全家桶"。

## 微服务架构

### 概念

微服务架构（Microservice Architecture）是一种架构概念，旨在通过将功能分解到各个离散的服务中以实现对解决方案的解耦。你可以将其看作是在架构层次而非获取服务的类上应用很多SOLID原则。微服务架构是个很有趣的概念，它的主要作用是将功能分解到离散的各个服务当中，从而降低系统的耦合性，并提供更加灵活的服务支持。

**核心概念：** 把一个大型的单个应用程序和服务拆分为数个甚至数十个的支持微服务，它可扩展单个组件而不是整个的应用程序堆栈，从而满足服务等级协议。

### 微服务的优势

- **技术栈灵活**：每个服务可以使用不同的技术栈
- **独立部署**：服务可以独立部署和升级
- **故障隔离**：单个服务故障不会影响整个系统
- **团队独立**：不同团队可以独立开发维护服务
- **可扩展性强**：可以针对性地扩展高负载服务

### 微服务的挑战

- **复杂性增加**：分布式系统固有的复杂性
- **网络延迟**：服务间调用涉及网络开销
- **数据一致性**：分布式事务处理复杂
- **运维复杂**：需要更复杂的监控和运维体系

## Spring Cloud 核心组件

### 服务注册与发现
- **Eureka**：Netflix 开源的服务注册中心
- **Nacos**：阿里巴巴开源的服务注册和配置管理
- **Consul**：HashiCorp 开源的服务发现工具

### 服务调用
- **Ribbon**：客户端负载均衡器
- **Feign/OpenFeign**：声明式服务调用客户端
- **LoadBalancer**：Spring Cloud 新的负载均衡器

### 服务保护
- **Hystrix**：Netflix 开源的熔断器（已停止维护）
- **Sentinel**：阿里巴巴开源的流量防护组件

### API 网关
- **Zuul**：Netflix 开源的 API 网关（已停止维护）
- **Gateway**：Spring Cloud 官方网关

### 配置管理
- **Config**：Spring Cloud 配置中心
- **Nacos Config**：Nacos 的配置管理功能

### 链路追踪
- **Sleuth**：分布式链路追踪
- **Zipkin**：链路追踪数据收集和展示

## 技术选型建议

### 阿里巴巴技术栈（推荐）
- **服务注册发现**：Nacos
- **服务保护**：Sentinel  
- **API 网关**：Spring Cloud Gateway
- **服务调用**：OpenFeign + LoadBalancer

### Netflix 技术栈（经典）
- **服务注册发现**：Eureka
- **服务保护**：Hystrix（不推荐新项目使用）
- **API 网关**：Zuul（不推荐新项目使用）
- **服务调用**：Ribbon + Feign

---

**下一节：** [MyBatis-Plus 数据访问层](SpringCloud-MyBatisPlus.md)
